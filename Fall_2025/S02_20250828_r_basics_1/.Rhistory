#schools_tibble <- read.csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv", stringsAsFactors = FALSE)
schools_tibble <- read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv")
schools_tibble
# install_github("hadley/readr")
# help(readr)
remove.packages("readr")
#####################
##### Libraries #####
#####################
#install.packages("pacman")
#library(pacman)
pacman::p_load(tidyverse,
devtools)
#####################
##### Load data #####
#####################
#schools_tibble <- read.csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv", stringsAsFactors = FALSE)
schools_tibble <- read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv")
schools_tibble
# install_github("hadley/readr")
# help(readr)
remove.packages("tidyverse")
#####################
##### Libraries #####
#####################
#install.packages("pacman")
#library(pacman)
pacman::p_load(tidyverse,
devtools)
#####################
##### Load data #####
#####################
#schools_tibble <- read.csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv", stringsAsFactors = FALSE)
schools_tibble <- read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv")
schools_tibble
View(schools_tibble)
rm(schools_tibble)
#####################
##### Load data #####
#####################
#schools_tibble <- read.csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv", stringsAsFactors = FALSE)
schools_tibble <- read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv")
View(schools_tibble)
#####################
##### Load data #####
#####################
#schools_tibble <- read.csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv", stringsAsFactors = FALSE)
schools_tibble <- read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv")
schools_tibble
# I will demonstrate these errors with the Nashville schools data
# NAs are present in the data
mean(schools_tibble$Grade.1)
class(schools_tibble$Grade.1)
schools_tibble$Grade.1
#####################
##### Load data #####
#####################
#schools_tibble <- read.csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv", stringsAsFactors = FALSE)
schools_tibble <- read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv")
#####################
##### Libraries #####
#####################
#install.packages("pacman")
#library(pacman)
pacman::p_load(tidyverse,
devtools)
#####################
##### Load data #####
#####################
#schools_tibble <- read.csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv", stringsAsFactors = FALSE)
schools_tibble <- read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv")
#####################
##### Libraries #####
#####################
#install.packages("pacman")
#library(pacman)
pacman::p_load(tidyverse,
devtools)
#####################
##### Libraries #####
#####################
install.packages("pacman")
library(pacman)
#####################
##### Libraries #####
#####################
#install.packages("pacman")
#library(pacman)
pacman::p_load(tidyverse,
devtools)
#####################
##### Load data #####
#####################
#schools_tibble <- read.csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv", stringsAsFactors = FALSE)
schools_tibble <- read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv")
schools_tibble
View(schools_tibble)
#####################
##### Load data #####
#####################
#schools_tibble <- read.csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv", stringsAsFactors = FALSE)
schools_tibble <- read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv") %>% clean_names()
#####################
##### Libraries #####
#####################
#install.packages("pacman")
#library(pacman)
pacman::p_load(tidyverse,
devtools,
janitor)
#####################
##### Load data #####
#####################
#schools_tibble <- read.csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv", stringsAsFactors = FALSE)
schools_tibble <- read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv") %>% clean_names()
View(schools_tibble)
#####################
##### Load data #####
#####################
#schools_tibble <- read.csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv", stringsAsFactors = FALSE)
schools_tibble <- read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv")
schools_tibble <- read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv") %>% clean_names()
# I will demonstrate these errors with the Nashville schools data
# NAs are present in the data
mean(schools_tibble$grade_1)
# I will demonstrate these errors with the Nashville schools data
# NAs are present in the data
mean(schools_tibble$grade_1)
class(schools_tibble$grade_1)
mean(schools_tibble$grade_1, na.rm = TRUE)
mean(na.omit(schools_tibble$grade_1))
# Wrong class/type
mean(schools_tibble$school_year)
str(schools_tibble)
str(schools_tibble$school_year)
# Changing numeric, characters, and factor data types
schools_tibble$zip_code <- as.character(schools_tibble$zip_code)
class(schools_tibble$zip_code)
unique(schools_tibble$zip_code)
schools_tibble$zip_code <- as.factor(schools_tibble$zip_code)
class(schools_tibble$zip_code)
schools_tibble$zip_code <- factor(schools_tibble$zip_code, levels = c("37013", "37189", "37115", "37138", "37221", "37207", "37208", "37210", "37203",
"37211", "37209", "37206", "37218", "37220", "37216", "37076", "37214", "37212",
"37204", "37217", "37072", "37027", "37205", "37215", "37080", "37228"))
as.numeric(schools_tibble$Zip.Code)
as.numeric(schools_tibble$zip_code)
as.numeric(schools_tibble$zip_code)
unique(schools_tibble$zip_code)
as.numeric(as.character(schools_tibble$zip_code))
unique(schools_tibble$zip_code)
as.numeric(as.character(schools_tibble$zip_code))
as.numeric(schools_tibble$zip_code)
#####################
##### Load data #####
#####################
data("mtcars")
data("iris")
data("wine")
data("wine")
#####################
##### Load data #####
#####################
data("mtcars")
data("wine")
data("iris")
View(iris)
getwd()
schools_tibble <- data.frame(read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv"))
schools_tibble
#str(schools_tibble)
class(schools_tibble)
View(schools_tibble)
#####################
##### Load data #####
#####################
#getwd()
#setwd()
#data("mtcars")
#data("iris")
schools_tibble <- read.csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv", stringsAsFactors = FALSE)
class(schools_tibble)
schools_tibble <- read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv")
class(schools_tibble)
schools_tibble <- read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv") %>% clean_names()
class(schools_tibble)
str(schools_tibble)
# install_github("mvuorre/exampleRPackage")
help(exampleRPackage)
# install_github("mvuorre/exampleRPackage")
help(janitor)
# install_github("mvuorre/exampleRPackage")
help(tidyverse)
# install_github("mvuorre/exampleRPackage")
help(janitor)
# compare the two data structures by clicking on their listings in the global environment pane
erg_dframe <- read.csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/r/color-anova-example.csv")
erg_tibble <- read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/r/color-anova-example.csv")
erg_dframe
my_data_frame <- erg_dframe
#####################
##### Libraries #####
#####################
install.packages("pacman")
install.packages("pacman")
#####################
##### Libraries #####
#####################
#install.packages("pacman")
#library(pacman)
pacman::p_load(tidyverse,
devtools,
janitor)
# install_github("mvuorre/exampleRPackage")
help(janitor)
#####################
##### Load data #####
#####################
getwd()
#####################
##### Load data #####
#####################
#getwd()
#setwd()
data("mtcars")
View(mtcars)
data("iris")
View(iris)
#####################
##### Load data #####
#####################
#getwd()
#setwd()
#data("mtcars")
#data("iris")
schools_tibble <- read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/gis/wg/Metro_Nashville_Schools.csv") %>% clean_names()
View(schools_tibble)
# create a vector of numbers
number_vector <- c(1, 3, 6, 10, 15)
# create a vector of character strings
animal <- c("frog", "spider", "worm", "bee")
# create sequences
number_range <- 3:9
count_down <- 10:0
go_negative <- 5:-3
go_negative
count_down
number_vector
# display properties of a vector
length(animal)
mode(animal)
# referencing parts of a vector
animal[3]
animal[2] <- "arachnid"
animal[2:4]
# single items are vectors
an_item <- "some character string"
length(an_item)
an_item[1]
# operations on vectors
sqrt(number_vector)
number_vector * 3
# two-vector operation
a <- c(10, 30, 100)
b <- c(5, 10, 20)
c <- a/b
c
# recreate the animals vector
animal <- c("frog", "spider", "worm", "bee")
# create a list
thing <- list(fruit_kind="apple", euler=2.71828, vector_data=animal, curse="!@#$%")
# referencing list items
thing[[2]]
thing$curse
# referencing list items
thing[[2]]
# Making a data frame from vectors
group <- c("reptile", "arachnid", "annelid", "insect") # vector of strings
animal <- c("lizard", "spider", "worm", "bee")
number_legs <- c(4,8,0,6) # vector of numbers
organism_info <- data.frame(group, animal, number_legs)
organism_info
organism_info$animal
organism_info[2,1]
organism_info$animal[4]
# Making a data frame from vectors
group <- c("reptile", "arachnid", "annelid", "insect") # vector of strings
group
# Making a data frame from vectors
group
group
<- c("reptile", "arachnid", "annelid", "insect")
# compare the two data structures by clicking on their listings in the global environment pane
erg_dframe <- read.csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/r/color-anova-example.csv")
# They basically look the same
# Now compare their table summaries
str(erg_dframe)
erg_tibble <- read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/r/color-anova-example.csv")
str(erg_tibble)
# head() shows the first 6 rows
# tail() shows the last 6 rows
# names() returns the column names
# str() describes the structure of the data frame with information about each column
# How could I get a data.frame with the name below using the erg_dframe data.frame?
my_data_frame <- erg_dframe
head(my_data_frame)
tail(my_data_frame)
names(my_data_frame)
str(my_data_frame)
dim(my_data_frame)
my_data_frame$response[1]
my_data_frame[1,] # first row
my_data_frame[,1]
my_data_frame[1:3,]
my_data_frame[,1:3]
my_data_frame[1:3,1]
my_data_frame$response[1]
# Recreate the organism_info data frame if necessary
number_wings <- c(0, 0, 0, 4)
number_appendages <- number_wings + organism_info$number_legs
View(schools_tibble)
# I will demonstrate these errors with the Nashville schools data
# NAs are present in the data
mean(schools_tibble$grade_1)
# I will demonstrate these errors with the Nashville schools data
# NAs are present in the data
mean(schools_tibble$grade_1)
class(schools_tibble$grade_1)
mean(schools_tibble$grade_1, na.rm = TRUE)
mean(na.omit(schools_tibble$grade_1))
# Wrong class/type
mean(schools_tibble$school_year)
str(schools_tibble$school_year)
str(schools_tibble)
# Changing numeric, characters, and factor data types
# Change int/numeric to character
schools_tibble$zip_code <- as.character(schools_tibble$zip_code)
class(schools_tibble$zip_code)
unique(schools_tibble$zip_code)
# Change character or numeric to factor
schools_tibble$zip_code <- as.factor(schools_tibble$zip_code)
class(schools_tibble$zip_code)
schools_tibble$zip_code <- factor(schools_tibble$zip_code, levels = c("37013", "37189", "37115", "37138", "37221", "37207", "37208", "37210", "37203",
"37211", "37209", "37206", "37218", "37220", "37216", "37076", "37214", "37212",
"37204", "37217", "37072", "37027", "37205", "37215", "37080", "37228"))
# Change factor to character or numeric
as.numeric(schools_tibble$zip_code)
as.numeric(as.character(schools_tibble$zip_code))
# display properties of a vector
length(animal)
mode(animal)
# create a vector of numbers
number_vector <- c(1, 3, 6, 10, 15)
# create a vector of character strings
animal <- c("frog", "spider", "worm", "bee")
# create sequences
number_range <- 3:9
count_down <- 10:0
go_negative <- 5:-3
# display properties of a vector
length(animal)
mode(animal)
# referencing parts of a vector
animal[3]
animal[2] <- "arachnid"
animal[2:4]
# single items are vectors
an_item <- "some character string"
length(an_item)
an_item[1]
# operations on vectors
sqrt(number_vector)
number_vector * 3
# two-vector operation
a <- c(10, 30, 100)
b <- c(5, 10, 20)
c <- a/b
c
# recreate the animals vector
animal <- c("frog", "spider", "worm", "bee")
# create a list
thing <- list(fruit_kind="apple", euler=2.71828, vector_data=animal, curse="!@#$%")
# referencing list items
thing[[2]]
thing$curse
# Making a data frame from vectors
group <- c("reptile", "arachnid", "annelid", "insect") # vector of strings
animal <- c("lizard", "spider", "worm", "bee")
number_legs <- c(4,8,0,6) # vector of numbers
organism_info <- data.frame(group, animal, number_legs)
# Referring to parts of a data frame
organism_info$animal # column by name
organism_info[2,1] # cell by row, column
organism_info$animal[4] # cell by column name and position in column
# by a file-choosing dialog:
my_data_frame <- read.csv(file.choose())
# from a URL:
my_data_frame <- read.csv("https://gist.githubusercontent.com/baskaufs/1a7a995c1b25d6e88b45/raw/4bb17ccc5c1e62c27627833a4f25380f27d30b35/t-test.csv")
# from a hard-coded path:
my_data_frame <- read.csv("~/test.csv")  # by a path (Mac home directory)
my_data_frame <- read.csv("c:\temp\test.csv")  # by a path (Windows C: drive)
getwd()
# load a file from your current working directory:
my_data_frame <- read.csv("test.csv")
# You can change the working directory using the setwd() function.  For example:
setwd("~/Documents/r/")
getwd()
library(openxlsx)
data_frame <- read.xlsx(xlsxFile = "my_file.xlsx", sheet = 'name_of_sheet')
# create a vector of numbers
number_vector <- c(1, 3, 6, 10, 15)
number_vector
# create a vector of character strings
animal <- c("frog", "spider", "worm", "bee")
animal
# create sequences
number_range <- 3:9
number_range
count_down <- 10:0
count_down
go_negative <- 5:-3
go_negative
# display properties of a vector
length(animal)
mode(animal)
# referencing parts of a vector
animal[3]
animal[2] <- "arachnid"
animal
animal[2:4]
# single items are vectors
an_item <- "some character string"
an_item
length(an_item)
an_item[1]
# operations on vectors
sqrt(number_vector)
# two-vector operation
a <- c(10, 30, 100)
b <- c(5, 10, 20)
c <- a/b
c
# recreate the animals vector
animal <- c("frog", "spider", "worm", "bee")
# create a list
thing <- list(fruit_kind="apple", euler=2.71828, vector_data=animal, curse="!@#$%")
thing
# referencing list items
thing[[2]]
thing$curse
# Making a data frame from vectors
group <- c("reptile", "arachnid", "annelid", "insect") # vector of strings
animal <- c("lizard", "spider", "worm", "bee")
number_legs <- c(4,8,0,6) # vector of numbers
organism_info <- data.frame(group, animal, number_legs)
organism_info
View(organism_info)
organism_info$animal
organism_info[2,1]
organism_info$animal[4]
# by a file-choosing dialog:
my_data_frame <- read.csv(file.choose())
# from a URL:
my_data_frame <- read.csv("https://gist.githubusercontent.com/baskaufs/1a7a995c1b25d6e88b45/raw/4bb17ccc5c1e62c27627833a4f25380f27d30b35/t-test.csv")
View(my_data_frame)
getwd()
library(readr)
# compare the two data structures by clicking on their listings in the global environment pane
erg_dframe <- read.csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/r/color-anova-example.csv")
erg_tibble <- read_csv("https://raw.githubusercontent.com/HeardLibrary/digital-scholarship/master/data/r/color-anova-example.csv")
# They basically look the same
# Now compare their table summaries
str(erg_dframe)
str(erg_tibble)
# For reference: how to write a tibble to a CSV file
write_csv(tibble_name, "file_name.csv", na = "NA", append = FALSE, col_names = TRUE, quote_escape = "double")
# head() shows the first 6 rows
# tail() shows the last 6 rows
# names() returns the column names
# str() describes the structure of the data frame with information about each column
# How could I get a data.frame with the name below using the erg_dframe data.frame?
head(my_data_frame)
tail(my_data_frame)
names(my_data_frame)
str(my_data_frame)
# ------------------
# Subsetting dataframes
# ------------------
my_data_frame[1,] # first row
my_data_frame[,1]
my_data_frame[1:3,]
my_data_frame[,1:3]
my_data_frame[1:3,1]
my_data_frame$response[1]
# Vector recycling
a <- c(1, 2)
b <- c(10, 15, 17, 5, 1)
a + b
# Vector recycling
a <- c(1, 2)
b <- c(10, 15, 17, 5, 1)
a + b
# Recreate the organism_info data frame if necessary
number_wings <- c(0, 0, 0, 4)
number_appendages <- number_wings + organism_info$number_legs
number_appendages <- number_wings + organism_info$number_legs
number_appendages
# I will demonstrate these errors with the Nashville schools data
# NAs are present in the data
mean(schools_tibble$grade_1)
class(schools_tibble$grade_1)
mean(schools_tibble$grade_1, na.rm = TRUE)
mean(na.omit(schools_tibble$grade_1))
